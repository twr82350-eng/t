<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Windows Soviet</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Segoe UI', sans-serif;
  background: url('assets/background.jpg') no-repeat center center fixed;
  background-size: cover;
  overflow: hidden;
}

/* כל המסכים */
.screen {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  color: white;
  text-align: center;
  transition: opacity 1s ease;
  opacity: 0;
  pointer-events: none;
}
.screen.active {
  opacity: 1;
  pointer-events: auto;
  z-index: 100;
}

/* Bootup */
#bootup img { width: 200px; margin-bottom: 20px; animation: fadeIn 2s infinite alternate; }
@keyframes fadeIn {0% {opacity:0.2;} 100% {opacity:1;}}

/* Lock screen */
input[type="password"] { padding: 10px; font-size: 16px; margin-top: 10px; border-radius: 5px; border: none; outline: none; }
button { margin-top: 10px; padding: 10px 20px; font-size: 16px; border-radius: 5px; border: none; cursor: pointer; }

/* Welcome screen */
h1 { font-size: 48px; animation: fadeInText 2s ease-in-out; }
@keyframes fadeInText { 0% {opacity:0; transform: translateY(20px);} 100% {opacity:1; transform: translateY(0);} }

/* Desktop */
#desktop { display: none; width: 100%; height: 100%; position: relative; overflow: hidden; }

/* Desktop icons */
.icon { width: 80px; text-align: center; cursor: pointer; margin: 20px; color: white; display: inline-block; }
.icon img { width: 64px; }

/* Windows */
.window {
  position: absolute;
  width: 300px;
  height: 200px;
  background: rgba(255,255,255,0.95);
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
  display: none;
  flex-direction: column;
}
.window-header {
  background: #0078D7;
  color: white;
  padding: 5px 10px;
  cursor: move;
  display: flex;
  justify-content: space-between;
  align-items: center;
  user-select: none;
}
.window-body { flex: 1; padding: 10px; overflow: auto; }
.closeBtn { cursor: pointer; }

/* Taskbar */
#taskbar {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40px;
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  box-sizing: border-box;
  color: white;
  font-size: 14px;
}

/* Start button */
#startBtn { width: 60px; height: 30px; background: #0078D7; color: white; border: none; border-radius: 5px; cursor: pointer; }

/* Start Menu */
#startMenu {
  position: absolute;
  bottom: 40px;
  left: 10px;
  width: 200px;
  background: rgba(50,50,50,0.95);
  border-radius: 5px;
  display: none;
  flex-direction: column;
  padding: 10px;
}
#startMenu button {
  background: none;
  color: white;
  border: none;
  text-align: left;
  padding: 5px;
  cursor: pointer;
}
#startMenu button:hover { background: rgba(255,255,255,0.2); }

/* Window animations */
@keyframes slideDown { from { transform: translateY(-20px); opacity:0;} to { transform: translateY(0); opacity:1;} }
</style>
</head>
<body>

<!-- Bootup -->
<div id="bootup" class="screen active">
  <img src="assets/logo.png" alt="Windows Soviet Logo">
  <p>Loading...</p>
</div>

<!-- Lock Screen -->
<div id="lockscreen" class="screen">
  <h2>Enter Password</h2>
  <input type="password" id="password" placeholder="Password">
  <button onclick="checkPassword()">Login</button>
</div>

<!-- Welcome Screen -->
<div id="welcome" class="screen">
  <h1>Welcome блат</h1>
</div>

<!-- Desktop -->
<div id="desktop">
  <div class="icon" onclick="openWindow('win1')">
    <img src="assets/logo.png" alt="Icon">
    <p>My PC</p>
  </div>

  <!-- My PC Window -->
  <div class="window" id="win1">
    <div class="window-header" onmousedown="dragMouseDown(event, 'win1')">
      <span>My PC</span>
      <span class="closeBtn" onclick="closeWindow('win1')">✖</span>
    </div>
    <div class="window-body">
      <p>Files:</p>
      <div class="icon" onclick="openWindow('file1')">
        <img src="assets/logo.png" alt="File Icon">
        <p>המנהיגה.png</p>
      </div>
    </div>
  </div>

  <!-- File Window -->
  <div class="window" id="file1" style="width:400px; height:400px;">
    <div class="window-header" onmousedown="dragMouseDown(event, 'file1')">
      <span>המנהיגה.png</span>
      <span class="closeBtn" onclick="closeWindow('file1')">✖</span>
    </div>
    <div class="window-body" style="display:flex;justify-content:center;align-items:center;">
      <img src="assets/המנהיגה.png" alt="המנהיגה" style="max-width:100%; max-height:100%;">
    </div>
  </div>

  <!-- Taskbar -->
  <div id="taskbar">
    <button id="startBtn" onclick="toggleStartMenu()">Start</button>
    <div id="datetime"></div>
  </div>

  <!-- Start Menu -->
  <div id="startMenu">
    <button onclick="alert('My PC')">My PC</button>
    <button onclick="alert('Settings')">Settings</button>
    <button onclick="alert('Shutdown')">Shutdown</button>
  </div>
</div>

<script>
// Bootup
setTimeout(() => {
  document.getElementById('bootup').classList.remove('active');
  setTimeout(() => {
    document.getElementById('lockscreen').classList.add('active');
    document.getElementById('password').focus();
  }, 1000);
}, 3000);

// Password
function checkPassword() {
  const pw = document.getElementById('password').value.trim();
  if(pw === '1234') {
    document.getElementById('lockscreen').classList.remove('active');
    document.getElementById('welcome').classList.add('active');
    setTimeout(() => {
      document.getElementById('welcome').classList.remove('active');
      document.getElementById('desktop').style.display = 'block';
      updateDateTime();
      setInterval(updateDateTime, 1000);
    }, 2000);
  } else { alert('Wrong password!'); }
}

// Open/Close Windows
function openWindow(id) { document.getElementById(id).style.display = 'flex'; }
function closeWindow(id) { document.getElementById(id).style.display = 'none'; }

// Start Menu
function toggleStartMenu() {
  const menu = document.getElementById('startMenu');
  menu.style.display = (menu.style.display === 'flex') ? 'none' : 'flex';
}

// Date/Time
function updateDateTime() {
  const now = new Date();
  const date = now.toLocaleDateString();
  const time = now.toLocaleTimeString();
  document.getElementById('datetime').textContent = `${date} ${time}`;
}

// Drag Windows
function dragMouseDown(e, id) {
  e.preventDefault();
  const win = document.getElementById(id);
  let pos3 = e.clientX;
  let pos4 = e.clientY;

  function elementDrag(e) {
    e.preventDefault();
    const pos1 = pos3 - e.clientX;
    const pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    win.style.top = (win.offsetTop - pos2) + "px";
    win.style.left = (win.offsetLeft - pos1) + "px";
  }

  function closeDrag() {
    document.removeEventListener("mouseup", closeDrag);
    document.removeEventListener("mousemove", elementDrag);
  }

  document.addEventListener("mouseup", closeDrag);
  document.addEventListener("mousemove", elementDrag);
}
</script>

</body>
</html>
